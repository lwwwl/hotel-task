---
title: 酒店Paas系统
language_tabs:
  - shell: Shell
  - http: HTTP
  - javascript: JavaScript
  - ruby: Ruby
  - python: Python
  - php: PHP
  - java: Java
  - go: Go
toc_footers: []
includes: []
search: true
code_clipboard: true
highlight_theme: darkula
headingLevel: 2
generator: "@tarslib/widdershins v4.0.30"

---

# 酒店Paas系统

Base URLs:

# Authentication

# 工单模块

## POST 工单列表

POST /task/list

> Body 请求参数

```json
{
  "requireTaskStatusList": [
    {
      "taskStatus": "string",
      "lastTaskId": 0,
      "lastTaskCreateTime": 0
    }
  ],
  "departmentId": 0,
  "priority": 0
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|userId|header|integer| 否 |none|
|body|body|object| 否 |none|
|» requireTaskStatusList|body|[object]| 是 |请求哪些列表|
|»» taskStatus|body|string| 是 |状态枚举：PENDING-待处理 IN_PROGRESS-进行中 PENDING_CONFIRMATION-待确认 COMPLETED-已完成|
|»» lastTaskId|body|integer| 是 |上页最后一个工单id，游标分页|
|»» lastTaskCreateTime|body|integer| 是 |none|
|» departmentId|body|integer| 是 |按照部门id筛选，-1为查询所有部门|
|» priority|body|integer| 是 |按照优先级筛选，-1为查询所有优先级|

> 返回示例

> 200 Response

```json
{
  "timestamp": 0,
  "statusCode": 0,
  "message": "string",
  "data": [
    {
      "taskStatus": "string",
      "taskStatusDisplayName": "string",
      "taskCount": 0,
      "tasks": [
        {
          "taskId": 0,
          "title": "string",
          "description": "string",
          "roomId": 0,
          "room_name": "string",
          "guestId": 0,
          "guestName": "string",
          "deptId": 0,
          "deptName": "string",
          "taskStatus": "string",
          "createTime": 0,
          "updateTime": 0
        }
      ]
    }
  ],
  "error": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» timestamp|integer|true|none||none|
|» statusCode|integer|true|none||none|
|» message|string|true|none||none|
|» data|[object]|true|none||none|
|»» taskStatus|string|true|none||状态枚举：PENDING-待处理 IN_PROGRESS-进行中 PENDING_CONFIRMATION-待确认 COMPLETED-已完成|
|»» taskStatusDisplayName|string|true|none||枚举名称，用于前端列表标题展示|
|»» taskCount|integer|true|none||数量|
|»» tasks|[object]|true|none||none|
|»»» taskId|integer|true|none||none|
|»»» title|string|true|none||none|
|»»» description|string|true|none||none|
|»»» roomId|integer|true|none||none|
|»»» room_name|string|true|none||none|
|»»» guestId|integer|true|none||none|
|»»» guestName|string|true|none||none|
|»»» deptId|integer|true|none||none|
|»»» deptName|string|true|none||none|
|»»» taskStatus|string|true|none||none|
|»»» createTime|integer|true|none||none|
|»»» updateTime|integer|true|none||none|
|» error|string|true|none||none|

## POST 工单详情

POST /task/detail

> Body 请求参数

```json
{
  "taskId": 0
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|userId|header|integer| 否 |none|
|body|body|object| 否 |none|
|» taskId|body|integer| 是 |none|

> 返回示例

> 200 Response

```json
{
  "timestamp": 0,
  "statusCode": 0,
  "message": "string",
  "data": {
    "taskId": 0,
    "description": "string",
    "roomId": 0,
    "roomName": "string",
    "guestId": 0,
    "guestName": "string",
    "deptId": 0,
    "deptName": "string",
    "creatorUserId": 0,
    "creatorName": "string",
    "execurorUserId": 0,
    "executorName": "string",
    "conversationId": 0,
    "conversationName": "string",
    "deadlineTime": 0,
    "completeTime": 0,
    "priority": "string",
    "taskStatus": 0,
    "taskStatusDisplayName": "string",
    "createTime": 0,
    "updateTime": "string"
  },
  "error": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» timestamp|integer|true|none||none|
|» statusCode|integer|true|none||none|
|» message|string|true|none||none|
|» data|object|true|none||none|
|»» taskId|integer|true|none||none|
|»» description|string|true|none||none|
|»» roomId|integer|true|none||none|
|»» roomName|string|true|none||none|
|»» guestId|integer|true|none||none|
|»» guestName|string|true|none||none|
|»» deptId|integer|true|none||none|
|»» deptName|string|true|none||none|
|»» creatorUserId|integer|true|none||none|
|»» creatorName|string|true|none||none|
|»» execurorUserId|integer|true|none||none|
|»» executorName|string|true|none||none|
|»» conversationId|integer|true|none||none|
|»» conversationName|string|true|none||none|
|»» deadlineTime|integer|true|none||none|
|»» completeTime|integer|true|none||none|
|»» priority|string|true|none||none|
|»» taskStatus|integer|true|none||none|
|»» taskStatusDisplayName|string|true|none||none|
|»» createTime|integer|true|none||none|
|»» updateTime|string|true|none||none|
|» error|string|true|none||none|

## POST 工单创建

POST /task/create

1. 基于会话创建
2. 直接创建

> Body 请求参数

```json
{
  "title": "string",
  "description": "string",
  "roomId": 0,
  "guestId": 0,
  "deptId": "string",
  "conversationId": 0,
  "deadlineTime": 0,
  "priority": "string"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» title|body|string| 是 |none|
|» description|body|string| 是 |none|
|» roomId|body|integer| 是 |none|
|» guestId|body|integer| 是 |none|
|» deptId|body|string| 是 |none|
|» conversationId|body|integer| 否 |关联的会话|
|» deadlineTime|body|integer| 是 |none|
|» priority|body|string| 是 |none|

> 返回示例

> 200 Response

```json
{
  "timestamp": 0,
  "statusCode": 0,
  "message": "string",
  "data": "string",
  "error": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» timestamp|integer|true|none||none|
|» statusCode|integer|true|none||none|
|» message|string|true|none||none|
|» data|string|true|none||success|
|» error|string|true|none||none|

## POST 工单编辑

POST /task/update

编辑工单信息、设置执行者、设置截止时间、优先级等。

> Body 请求参数

```json
{
  "taskId": 0,
  "title": "string",
  "description": "string",
  "deptId": 0,
  "deadlineTime": 0,
  "priority": "string"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|userId|header|integer| 否 |none|
|body|body|object| 否 |none|
|» taskId|body|integer| 是 |none|
|» title|body|string| 是 |none|
|» description|body|string| 是 |none|
|» deptId|body|integer| 是 |none|
|» deadlineTime|body|integer| 是 |none|
|» priority|body|string| 是 |none|

> 返回示例

> 200 Response

```json
{
  "timestamp": 0,
  "statusCode": 0,
  "message": "string",
  "data": "string",
  "error": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» timestamp|integer|true|none||none|
|» statusCode|integer|true|none||none|
|» message|string|true|none||none|
|» data|string|true|none||success|
|» error|string|true|none||none|

## POST 工单删除

POST /task/delete

> Body 请求参数

```json
{
  "taskId": "string"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|userId|header|string| 否 |none|
|body|body|object| 否 |none|
|» taskId|body|string| 是 |none|

> 返回示例

> 200 Response

```json
{
  "timestamp": 0,
  "statusCode": 0,
  "message": "string",
  "data": "string",
  "error": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» timestamp|integer|true|none||none|
|» statusCode|integer|true|none||none|
|» message|string|true|none||none|
|» data|string|true|none||success|
|» error|string|true|none||none|

## POST 工单添加执行人

POST /task/add-executor

做一次校验，只有工单创建人能添加执行人

> Body 请求参数

```json
{
  "taskId": 0,
  "executorUserId": 0
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|userId|header|string| 否 |none|
|body|body|object| 否 |none|
|» taskId|body|integer| 是 |none|
|» executorUserId|body|integer| 是 |none|

> 返回示例

> 200 Response

```json
{
  "timestamp": 0,
  "statusCode": 0,
  "message": "string",
  "data": "string",
  "error": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» timestamp|integer|true|none||none|
|» statusCode|integer|true|none||none|
|» message|string|true|none||none|
|» data|string|true|none||success|
|» error|string|true|none||none|

## POST 工单转移执行人

POST /task/transfer-executor

做一层校验，只有工单创建人或执行人，可以转移执行人

> Body 请求参数

```json
{
  "taskId": 0,
  "newExecutorUserId": 0
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|userId|header|integer| 否 |none|
|body|body|object| 否 |none|
|» taskId|body|integer| 是 |none|
|» newExecutorUserId|body|integer| 是 |none|

> 返回示例

> 200 Response

```json
{
  "timestamp": 0,
  "statusCode": 0,
  "message": "string",
  "data": "string",
  "error": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[通用返回类型](#schema通用返回类型)|

## POST 工单状态变更

POST /task/change-status

做一层校验，只有工单创建人或执行人或关联部门的领导可以变更状态

> Body 请求参数

```json
{
  "taskId": 0,
  "newTaskStatus": "string"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|userId|header|integer| 否 |none|
|body|body|object| 否 |none|
|» taskId|body|integer| 是 |none|
|» newTaskStatus|body|string| 是 |none|

> 返回示例

> 200 Response

```json
{
  "timestamp": 0,
  "statusCode": 0,
  "message": "string",
  "data": "string",
  "error": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[通用返回类型](#schema通用返回类型)|

## POST 工单催办

POST /task/reminder

给工单执行人或部门推送催办通知

> Body 请求参数

```json
{
  "taskId": 0
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object| 否 |none|
|» taskId|body|integer| 是 |none|

> 返回示例

> 200 Response

```json
{
  "timestamp": 0,
  "statusCode": 0,
  "message": "string",
  "data": "string",
  "error": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|[通用返回类型](#schema通用返回类型)|

## POST 工单SLA看板

POST /task/

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|userId|header|integer| 否 |none|

> 返回示例

> 200 Response

```json
{
  "onTimeCompletionRate": 0,
  "averageResponseTime": 0,
  "overdueTaskCount": 0,
  "todayCompletedCount": "string",
  "overdueList": [
    {
      "taskId": 0,
      "title": "string",
      "roomName": "string",
      "deadlineTime": 0
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» onTimeCompletionRate|integer|true|none||按时完成率|
|» averageResponseTime|integer|true|none||平均响应时间（分钟）|
|» overdueTaskCount|integer|true|none||逾期工单数|
|» todayCompletedCount|string|true|none||今日完成数|
|» overdueList|[object]|true|none||逾期的工单列表|
|»» taskId|integer|true|none||none|
|»» title|string|true|none||none|
|»» roomName|string|true|none||none|
|»» deadlineTime|integer|true|none||none|

# 数据模型

<h2 id="tocS_通用返回类型">通用返回类型</h2>

<a id="schema通用返回类型"></a>
<a id="schema_通用返回类型"></a>
<a id="tocS通用返回类型"></a>
<a id="tocs通用返回类型"></a>

```json
{
  "timestamp": 0,
  "statusCode": 0,
  "message": "string",
  "data": "string",
  "error": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|timestamp|integer|true|none||none|
|statusCode|integer|true|none||none|
|message|string|true|none||none|
|data|string|true|none||success|
|error|string|true|none||none|

